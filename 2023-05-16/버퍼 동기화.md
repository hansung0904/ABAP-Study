## 9.3 버퍼 동기화 (Buffering Synchronization)
대부분의 SAP 운영 환경은 여러 대의 애플리케이션 서버가 동작하고 있으며, 메시지 서버를 통해서 각 서버에 접속하게 된다.(개별 애플리케이션 서버는 자신의 SAP Table Buffer를 가지고 있다.) <br>
즉 우리가 운영 서버에 로그인할 때마다 같은 서버가 아니라 여러 개의 서버 중 하나에 접속하게 되는 것이다. <br>
(메시지 서버의 교통정리에 의해서) <br>
<img src = https://help.sap.com/doc/saphelp_snc70/7.0/en-US/cf/21f251446011d189700000e8322d00/sdic55_0_image002.gif> <br>

위 사진은 SERVER 1,2 두대가 존재하는 운영 환경이고, 각 서버에 Local Buffer가 존재하게 된다. <br>
만약 SERVER 1에 접속한 사용자가 DELETE 구문을 실행해서 데이터베이스의 테이블 레코드 한 건을 삭제하였다면 , SERVER 2의 작업자는 동기화되기 이전에는 삭제된 데이터의 정보를 알 수가 없다. <br>
즉 SERVER 2의 Local Buffer에 Field = 'X' 레코드가 저장되어 있다면, 데이터가 데이터베이스에서 삭제된 이후에도 데이터를 읽어오게 되는 <br>
문제가 발생하게 된다 (물론 그 반대의 경우 INSERT도 동일)

위 사진에서 Synchronization Table은 Local Buffer에서 UPDATE, INSERT, DELETE 문이 발생하게 되면 해당 정보를 저장하게 되는 테이블이다. <br>
매 1~2분마다 SERVER의 Local Buffer는 Synchronization Table의 데이터를 참고해서 동기화를 수행하게 된다. <br>
만약 이 동기화 시간 이내에 데이터가 변경되면 SERVER간에 다른 데이터가 존재하게 된다. <br>
그러므로 트랜잭션이 자주 발생하는 테이블은 버퍼링을 설정하면 데이터 왜곡이 발생하게 된다. <br><br>

버퍼링 설정이 되어 있는 테이블에서 Local Buffer를 이용하지 않고 바로 데이터베이스 테이블에서 데이터를 읽어 오려면 <br>
BYPASSING BUFFER 옵션을 사용하자
```ABA
SELECT * FROM SPFLI INTO GS_STR BYPASSING BUFFER WHERE CARRID = 'AZ'.
```
